# گزارش نهایی تسک: تحلیل و اجرای PoC برای سیستم‌های Agentic تولید محتوای ویدیویی

### ۱. تحلیل چالش‌های کلیدی
بزرگ‌ترین چالش در ساخت این پروژه، هماهنگ کردن ربات‌های کوچک (Agentها) با یکدیگر است. در این بخش، چالش‌های اصلی و راه‌حل‌های معماری سیستم را شرح داده‌ام:

#### الف) چالش: ثبات کاراکتر (Consistency)

**مشکل اصلی:** Agentها در صحنه‌های مختلف جزئیات حیاتی کاراکتر (مثل رنگ لباس یا مدل مو) را فراموش می‌کنند.

**راه‌حل‌های عملی:**
1.  **حافظه مشترک ثابت (Shared Memory Agent):** یک Agent را مسئول ساختن یک پایگاه داده‌ی کوچک و ثابت از تمام جزئیات حیاتی کاراکتر (مثل موی مشکی، زره آبی) می‌کنیم. همه Agentهای دیگر مجبورند توصیف خود را از این منبع واحد بگیرند.
2.  **Agent بررسی ثبات (Checker Agent):** یک Agent داور که خروجی هر Agent را با اطلاعات حافظه مقایسه می‌کند و اگر تناقض دید، اجازه نمی‌دهد خروجی نهایی شود.

#### ب) چالش: ناهماهنگی زمانی

**مشکل اصلی:** ترتیب وقایع در داستان به‌هم می‌ریزد یا Agentها ناگهان مکان داستان را بدون منطق تغییر می‌دهند.

**راه‌حل‌های عملی:**
1.  **ربات برنامه‌ریز (Planner Agent) و مسیر اجباری:** یک Agent مدیر که ابتدا یک نقشه راه (Workflow) برای تمام مراحل پروژه می‌کشد. برای مثال، Agentها از ابزارهایی مثل **LangGraph** استفاده می‌کنند تا مجبور باشند طبق این نقشه راه و مرحله به مرحله پیش بروند.
2.  **استفاده از خلاصه Agent قبلی:** Agent جدید قبل از شروع کار، خلاصه‌ای از وضعیت نهایی Agent قبلی (مثلاً "آخرین صحنه در کوهستان بود") را دریافت می‌کند تا منطق داستان حفظ شود.

#### ج) چالش: مدیریت منابع و هزینه

**مشکل اصلی:** Agentها بدون کنترل، درخواست‌های زیادی به APIهای گران تولید ویدیو می‌فرستند و بودجه پروژه به سرعت تمام می‌شود.

**راه‌حل‌های عملی:**
1.  **ربات ناظر بودجه (Budget Supervisor):** یک Agent مدیر مالی که برای هر کار گران، اجازه صادر می‌کند. Agentها باید قبل از هر کار پرهزینه، از این ناظر تأییدیه بگیرند.
2.  **حافظه پنهان (Caching Agent):** ذخیره‌سازی Assetهایی (مانند تصویر پس زمینه یا کاراکتر) که احتمالاً مجدداً استفاده می‌شوند، برای جلوگیری از تولید دوباره و صرفه‌جویی در هزینه.

#### د) چالش: سوءتفاهم Agentها

**مشکل اصلی:** Agentها با زبان عادی خروجی می‌دهند که برای Agent بعدی مبهم است و پروژه متوقف می‌شود.

**راه‌حل‌های عملی:**
1.  **خروجی ساختاریافته (JSON Schema):** Agentها مجبور می‌شوند که خروجی‌های خود را فقط در قالب‌های منظم و **کدگونه (مثل JSON)** با فیلدهای دقیق (مانند `مکان`، `زمان`) ارائه دهند تا ابهام از بین برود.
2.  **Agent اعتبارسنجی ورودی:** Agentای که خروجی Agent قبلی را چک می‌کند تا مطمئن شود ساختار آن درست است و برای مرحله بعدی قابل استفاده باشد.

---

### ۲. پیاده‌سازی عملی PoC و حل چالش (Character Consistency)

من روی حل چالش **ثبات کاراکتر** کار کردم.

* **رویکرد عملی:** من یک شبیه‌سازی در پایتون ایجاد کردم تا نشان دهم چگونه یک **Agent حافظه** و یک **ربات تأییدیه (Checker)** با هم کار می‌کنند.
* **اجرای منطق صرفه‌جویی:** در این سیستم، Agent نهایی **تنها پس از تأیید ثبات**، اجازه تولید پرامپت (که بخش پرهزینه کار است) را پیدا می‌کند.
* **نتیجه حل یک اشتباه رایج:** در یک بخش، عمداً متن "لباس قرمز" را وارد کردم. اما سیستم Agentic من با موفقیت این تضاد را تشخیص داد و با ارجاع به حافظه مشترک، آن را به **"زره آبی سنگین"** اصلاح کرد و ثبات کاراکتر را حفظ نمود.

=

### ۳. نتیجه‌گیری و تعهد

با وجود اینکه تجربه مستقیمی در توسعه LLM نداشتم، این تسک یک تجربه آموزشی فوق‌العاده بود و نشان داد که مهارت‌های من در **مهندسی سیستم، طراحی Workflow و حل مسئله عملی** کاملاً قابل انتقال به این حوزه هستند. من با انگیزه و پشتکار کامل، آمادگی یادگیری و توسعه در این پروژه در کرج را دارم.

[**جزئیات زمان‌بندی (۲۶ ساعت)** برای این تسک در انتهای این فایل موجود است.]
